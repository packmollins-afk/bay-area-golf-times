<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <!-- Primary Meta Tags -->
  <title>Bay Area Golf | Discover Public Courses in San Francisco Bay Area</title>
  <meta name="title" content="Bay Area Golf | Discover Public Courses in San Francisco Bay Area">
  <meta name="description" content="Explore and book tee times at 40 public golf courses across the San Francisco Bay Area. Find courses in SF, South Bay, East Bay, and North Bay with live pricing.">
  <meta name="keywords" content="bay area golf, golf courses san francisco, public golf bay area, tee times sf, golf near me, bay area golf map, san francisco golf, east bay golf, south bay golf, north bay golf">
  <meta name="author" content="Bay Area Golf">
  <meta name="robots" content="index, follow">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://bayareagolf.now/">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bayareagolf.now/">
  <meta property="og:title" content="Bay Area Golf | Discover Public Courses in San Francisco Bay Area">
  <meta property="og:description" content="Explore and book tee times at 40 public golf courses across the San Francisco Bay Area. Interactive map with live pricing.">
  <meta property="og:image" content="https://bayareagolf.now/og-image.svg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="Bay Area Golf">
  <meta property="og:locale" content="en_US">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://bayareagolf.now/">
  <meta name="twitter:title" content="Bay Area Golf | Discover Public Courses in San Francisco Bay Area">
  <meta name="twitter:description" content="Explore and book tee times at 40 public golf courses across the San Francisco Bay Area.">
  <meta name="twitter:image" content="https://bayareagolf.now/og-image.svg">

  <!-- Geo Meta Tags for Local SEO -->
  <meta name="geo.region" content="US-CA">
  <meta name="geo.placename" content="San Francisco Bay Area">
  <meta name="geo.position" content="37.7749;-122.4194">
  <meta name="ICBM" content="37.7749, -122.4194">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <meta name="theme-color" content="#2d5a27">

  <!-- PWA / iOS App -->
  <link rel="manifest" href="/manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Bay Area Golf">
  <link rel="apple-touch-startup-image" href="/icons/icon-512x512.png">

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Bay Area Golf",
    "url": "https://bayareagolf.now",
    "description": "Find and book golf tee times at 40 public courses across the San Francisco Bay Area",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://bayareagolf.now/courses.html?search={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Bay Area Golf",
    "url": "https://bayareagolf.now",
    "logo": "https://bayareagolf.now/favicon.svg",
    "description": "Bay Area's premier golf tee time finder covering 40 public courses",
    "areaServed": {
      "@type": "GeoCircle",
      "geoMidpoint": {
        "@type": "GeoCoordinates",
        "latitude": 37.7749,
        "longitude": -122.4194
      },
      "geoRadius": "80000"
    },
    "sameAs": []
  }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap');

    * { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --paper: #f4ebe0;
      --paper-dark: #e8dcc8;
      --contour: #8b7355;
      --contour-light: rgba(139, 115, 85, 0.3);
      --water: #a8c5d8;
      --water-dark: #7ba3bd;
      --fairway: #5a8f4a;
      --fairway-light: #7cb86a;
      --text-dark: #3d3225;
      --text-muted: #6b5d4d;
      --accent: #c4553a;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }

    body {
      font-family: 'Source Serif 4', Georgia, serif;
      background: var(--paper);
      color: var(--text-dark);
    }

    .map-container {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      background: var(--paper);
    }

    /* Draggable map content - larger than viewport */
    .map-content {
      position: absolute;
      width: 200%;
      height: 200%;
      left: -50%;
      top: -50%;
      cursor: grab;
      transition: none;
      user-select: none;
    }

    .map-content:active {
      cursor: grabbing;
    }

    .map-content.dragging {
      cursor: grabbing;
    }

    /* Aged paper texture */
    .paper-texture {
      position: absolute;
      inset: 0;
      background:
        /* Paper grain */
        url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E"),
        /* Aged spots */
        radial-gradient(ellipse at 20% 30%, rgba(139, 115, 85, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 70%, rgba(139, 115, 85, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at 60% 20%, rgba(139, 115, 85, 0.05) 0%, transparent 35%),
        /* Base paper color */
        linear-gradient(180deg, #f6efe4 0%, #f4ebe0 50%, #efe5d8 100%);
      opacity: 0.4;
      pointer-events: none;
    }

    /* USGS-style grid */
    .map-grid {
      position: absolute;
      inset: 0;
      background:
        linear-gradient(rgba(139, 115, 85, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(139, 115, 85, 0.1) 1px, transparent 1px);
      background-size: 50px 50px;
      pointer-events: none;
    }

    /* Contour lines layer */
    .contour-lines {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    /* Individual contour shapes */
    .contour {
      position: absolute;
      border: 1px solid var(--contour-light);
      border-radius: 50%;
    }

    /* SF Peninsula contours - runs north-south along coast */
    .contour-sf-1 { top: 22%; left: 16%; width: 18%; height: 35%; transform: rotate(-10deg); }
    .contour-sf-2 { top: 28%; left: 18%; width: 14%; height: 26%; transform: rotate(-10deg); }
    .contour-sf-3 { top: 34%; left: 20%; width: 10%; height: 18%; transform: rotate(-10deg); }

    /* East Bay hills contours */
    .contour-eb-1 { top: 20%; left: 58%; width: 32%; height: 50%; transform: rotate(5deg); border-radius: 60% 40% 50% 50%; }
    .contour-eb-2 { top: 26%; left: 62%; width: 24%; height: 40%; transform: rotate(5deg); border-radius: 60% 40% 50% 50%; }
    .contour-eb-3 { top: 32%; left: 66%; width: 18%; height: 30%; transform: rotate(5deg); border-radius: 60% 40% 50% 50%; }

    /* North Bay (Marin headlands) contours */
    .contour-ma-1 { top: 4%; left: 26%; width: 20%; height: 20%; transform: rotate(-15deg); border-radius: 45% 55% 50% 50%; }
    .contour-ma-2 { top: 8%; left: 30%; width: 14%; height: 14%; transform: rotate(-15deg); border-radius: 45% 55% 50% 50%; }

    /* South Bay / Santa Cruz Mtns contours */
    .contour-sb-1 { top: 60%; left: 22%; width: 35%; height: 38%; transform: rotate(12deg); border-radius: 50% 50% 60% 40%; }
    .contour-sb-2 { top: 68%; left: 28%; width: 26%; height: 28%; transform: rotate(12deg); border-radius: 50% 50% 60% 40%; }

    /* San Francisco Bay - centered in visible area (200% map) */
    .bay-water {
      position: absolute;
      top: 36%;
      left: 44%;
      width: 9%;
      height: 19%;
      background: var(--water);
      border-radius: 45% 55% 30% 20% / 25% 30% 70% 75%;
      transform: rotate(-5deg);
      box-shadow: inset 0 0 30px rgba(123, 163, 189, 0.5);
    }

    /* South Bay extension (narrower) */
    .south-bay {
      position: absolute;
      top: 49%;
      left: 45%;
      width: 6%;
      height: 14%;
      background: var(--water);
      border-radius: 50% 50% 30% 30%;
      transform: rotate(8deg);
      box-shadow: inset 0 0 20px rgba(123, 163, 189, 0.4);
    }

    /* San Pablo Bay (north) */
    .san-pablo-bay {
      position: absolute;
      top: 34%;
      left: 47%;
      width: 5%;
      height: 5%;
      background: var(--water);
      border-radius: 60% 40% 50% 50%;
      box-shadow: inset 0 0 15px rgba(123, 163, 189, 0.4);
    }

    /* Golden Gate strait */
    .golden-gate-strait {
      position: absolute;
      top: 37%;
      left: 38%;
      width: 7%;
      height: 1.5%;
      background: var(--water);
      transform: rotate(-8deg);
    }

    /* Pacific Ocean - fully west against edge */
    .pacific {
      position: absolute;
      top: 0;
      left: 0;
      width: 28%;
      height: 100%;
      background: linear-gradient(90deg, var(--water) 0%, var(--water) 60%, transparent 100%);
    }

    /* Tomales Bay (where Bodega is) */
    .tomales-bay {
      position: absolute;
      top: 28%;
      left: 33%;
      width: 1%;
      height: 5%;
      background: var(--water);
      border-radius: 50%;
      transform: rotate(-35deg);
      opacity: 0.8;
    }

    /* Monterey Bay (south - drag down to see) */
    .monterey-bay {
      position: absolute;
      top: 78%;
      left: 26%;
      width: 8%;
      height: 8%;
      background: var(--water);
      border-radius: 0 60% 50% 0;
      box-shadow: inset 0 0 20px rgba(123, 163, 189, 0.4);
    }

    /* Sacramento River Delta (drag right/up to see) */
    .sac-delta {
      position: absolute;
      top: 28%;
      left: 54%;
      width: 5%;
      height: 8%;
      background: var(--water);
      border-radius: 40% 60% 50% 50%;
      opacity: 0.6;
      box-shadow: inset 0 0 15px rgba(123, 163, 189, 0.3);
    }

    /* Golf course fairway shapes */
    .fairways {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .fairway {
      position: absolute;
      background: var(--fairway);
      box-shadow: 0 0 8px rgba(90, 143, 74, 0.4);
      cursor: pointer;
      pointer-events: auto;
      transition: all 0.3s ease;
    }

    .fairway:hover {
      background: var(--fairway-light);
      box-shadow: 0 0 15px rgba(90, 143, 74, 0.7);
      z-index: 100;
      filter: brightness(1.2);
    }

    a.fairway {
      text-decoration: none;
    }

    .fairway::before {
      content: attr(data-course);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(-5px);
      background: rgba(61, 50, 37, 0.95);
      color: var(--paper);
      padding: 6px 10px;
      border-radius: 4px;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 0.7rem;
      font-weight: 600;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      pointer-events: none;
      z-index: 200;
    }

    .fairway:hover::before {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(-10px);
    }

    /* Small course initial inside fairway */
    .fairway::after {
      content: attr(data-initial);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 10px;
      font-weight: 700;
      color: rgba(255, 255, 255, 0.95);
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      pointer-events: none;
    }

    /* SF Courses - centered in visible area of 200% map */
    .fw-harding { top: 43%; left: 37%; width: 28px; height: 42px; border-radius: 40% 60% 55% 45%; transform: rotate(-30deg); }
    .fw-lincoln { top: 39%; left: 35%; width: 22px; height: 32px; border-radius: 50% 50% 45% 55%; transform: rotate(-25deg); }
    .fw-presidio { top: 37%; left: 38%; width: 24px; height: 36px; border-radius: 45% 55% 50% 50%; transform: rotate(-15deg); }
    .fw-sharp { top: 48%; left: 34%; width: 24px; height: 38px; border-radius: 55% 45% 50% 50%; transform: rotate(-25deg); }
    .fw-gleneagles { top: 45%; left: 39%; width: 18px; height: 28px; border-radius: 50%; transform: rotate(-20deg); }
    .fw-olympic { top: 41%; left: 34%; width: 22px; height: 34px; border-radius: 48% 52% 50% 50%; transform: rotate(-40deg); }

    /* South Bay Courses */
    .fw-paloalto { top: 56%; left: 41%; width: 24px; height: 38px; border-radius: 45% 55% 52% 48%; transform: rotate(10deg); }
    .fw-baylands { top: 54%; left: 43%; width: 22px; height: 34px; border-radius: 50% 50% 48% 52%; transform: rotate(5deg); }
    .fw-santateresa { top: 66%; left: 49%; width: 24px; height: 40px; border-radius: 50% 50% 55% 45%; transform: rotate(25deg); }
    .fw-cinnabar { top: 69%; left: 53%; width: 28px; height: 44px; border-radius: 48% 52% 50% 50%; transform: rotate(15deg); }
    .fw-coyote { top: 71%; left: 56%; width: 24px; height: 38px; border-radius: 52% 48% 50% 50%; transform: rotate(20deg); }
    .fw-sunnyvale { top: 59%; left: 44%; width: 20px; height: 30px; border-radius: 50%; transform: rotate(5deg); }
    .fw-deepcliff { top: 61%; left: 42%; width: 18px; height: 28px; border-radius: 50%; transform: rotate(-5deg); }
    .fw-sanjose { top: 64%; left: 51%; width: 22px; height: 34px; border-radius: 50%; transform: rotate(12deg); }

    /* East Bay Courses */
    .fw-corica { top: 44%; left: 56%; width: 28px; height: 44px; border-radius: 50% 50% 55% 45%; transform: rotate(-10deg); }
    .fw-tilden { top: 39%; left: 58%; width: 24px; height: 38px; border-radius: 45% 55% 50% 50%; transform: rotate(-5deg); }
    .fw-boundary { top: 42%; left: 62%; width: 24px; height: 38px; border-radius: 52% 48% 50% 50%; transform: rotate(8deg); }
    .fw-metropolitan { top: 46%; left: 54%; width: 22px; height: 34px; border-radius: 50%; transform: rotate(-15deg); }
    .fw-lakechabot { top: 49%; left: 58%; width: 24px; height: 34px; border-radius: 48% 52% 55% 45%; transform: rotate(5deg); }
    .fw-poppy { top: 53%; left: 66%; width: 24px; height: 38px; border-radius: 50% 50% 52% 48%; transform: rotate(12deg); }
    .fw-laspositas { top: 56%; left: 68%; width: 22px; height: 32px; border-radius: 50%; transform: rotate(18deg); }
    .fw-wente { top: 58%; left: 67%; width: 20px; height: 30px; border-radius: 50%; transform: rotate(15deg); }
    .fw-diablo { top: 44%; left: 66%; width: 20px; height: 30px; border-radius: 50%; transform: rotate(-8deg); }

    /* North Bay Courses */
    .fw-peacock { top: 33%; left: 46%; width: 24px; height: 38px; border-radius: 48% 52% 50% 50%; transform: rotate(-25deg); }
    .fw-indian { top: 30%; left: 43%; width: 22px; height: 34px; border-radius: 50% 50% 45% 55%; transform: rotate(-20deg); }
    .fw-stonetree { top: 28%; left: 45%; width: 20px; height: 30px; border-radius: 50%; transform: rotate(-15deg); }
    .fw-millvalley { top: 34%; left: 41%; width: 18px; height: 26px; border-radius: 50%; transform: rotate(-30deg); }
    .fw-bodega { top: 27%; left: 35%; width: 24px; height: 38px; border-radius: 45% 55% 52% 48%; transform: rotate(-35deg); }
    .fw-northwood { top: 26%; left: 32%; width: 22px; height: 32px; border-radius: 50% 50% 45% 55%; transform: rotate(-40deg); }

    /* Additional SF/Peninsula Courses */
    .fw-fleming { top: 44%; left: 38%; width: 18px; height: 28px; border-radius: 50%; transform: rotate(-28deg); }
    .fw-crystal { top: 51%; left: 36%; width: 24px; height: 38px; border-radius: 48% 52% 50% 50%; transform: rotate(-12deg); }
    .fw-hmb-old { top: 54%; left: 32%; width: 22px; height: 34px; border-radius: 50% 50% 55% 45%; transform: rotate(-20deg); }
    .fw-hmb-ocean { top: 56%; left: 31%; width: 22px; height: 32px; border-radius: 45% 55% 50% 50%; transform: rotate(-25deg); }

    /* Additional South Bay Course - drag down to see */
    .fw-pasatiempo { top: 75%; left: 39%; width: 24px; height: 38px; border-radius: 50% 50% 55% 45%; transform: rotate(5deg); }

    /* Additional East Bay Course */
    .fw-corica-n { top: 43%; left: 55%; width: 22px; height: 32px; border-radius: 50%; transform: rotate(-8deg); }

    /* New East Bay Courses */
    .fw-bridges { top: 51%; left: 64%; width: 24px; height: 34px; border-radius: 50% 50% 52% 48%; transform: rotate(10deg); }
    .fw-sanramon { top: 49%; left: 65%; width: 22px; height: 32px; border-radius: 50%; transform: rotate(5deg); }
    .fw-callippe { top: 54%; left: 62%; width: 22px; height: 34px; border-radius: 48% 52% 50% 50%; transform: rotate(15deg); }
    .fw-redwood { top: 47%; left: 57%; width: 22px; height: 32px; border-radius: 50%; transform: rotate(-5deg); }

    /* New North Bay Course */
    .fw-mcinnis { top: 32%; left: 44%; width: 22px; height: 32px; border-radius: 50%; transform: rotate(-22deg); }

    /* Napa Valley Courses */
    .fw-chardonnay { top: 28%; left: 53%; width: 24px; height: 34px; border-radius: 50% 50% 52% 48%; transform: rotate(-5deg); }
    .fw-eaglevines { top: 27%; left: 56%; width: 22px; height: 34px; border-radius: 48% 52% 50% 50%; transform: rotate(-8deg); }
    .fw-napakennedy { top: 30%; left: 54%; width: 18px; height: 28px; border-radius: 50%; transform: rotate(-3deg); }
    .fw-vintners { top: 29%; left: 57%; width: 18px; height: 26px; border-radius: 50%; transform: rotate(-6deg); }
    .fw-silverado-n { top: 26%; left: 59%; width: 24px; height: 38px; border-radius: 50% 50% 55% 45%; transform: rotate(-10deg); }
    .fw-silverado-s { top: 28%; left: 61%; width: 24px; height: 38px; border-radius: 48% 52% 50% 50%; transform: rotate(-12deg); }

    /* Price tags under fairways */
    .fairway .price-tag {
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%) rotate(var(--counter-rotate, 0deg));
      background: rgba(45, 90, 39, 0.95);
      color: #fff;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 10px;
      font-weight: 700;
      white-space: nowrap;
      margin-top: 2px;
      z-index: 50;
      pointer-events: none;
      letter-spacing: -0.02em;
      box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }
    .fairway .price-tag.loading {
      background: rgba(139, 115, 85, 0.7);
      font-size: 8px;
    }
    .fairway:hover .price-tag {
      background: rgba(45, 90, 39, 1);
      transform: translateX(-50%) rotate(var(--counter-rotate, 0deg)) scale(1.1);
    }
    /* Counter-rotate to keep price tags upright */
    .fw-harding .price-tag { --counter-rotate: 30deg; }
    .fw-lincoln .price-tag { --counter-rotate: 25deg; }
    .fw-presidio .price-tag { --counter-rotate: 15deg; }
    .fw-sharp .price-tag { --counter-rotate: 25deg; }
    .fw-gleneagles .price-tag { --counter-rotate: 20deg; }
    .fw-olympic .price-tag { --counter-rotate: 40deg; }
    .fw-paloalto .price-tag { --counter-rotate: -10deg; }
    .fw-santateresa .price-tag { --counter-rotate: -25deg; }
    .fw-cinnabar .price-tag { --counter-rotate: -15deg; }
    .fw-deepcliff .price-tag { --counter-rotate: 5deg; }
    .fw-sanjose .price-tag { --counter-rotate: -12deg; }
    .fw-pasatiempo .price-tag { --counter-rotate: -5deg; }
    .fw-corica .price-tag { --counter-rotate: 10deg; }
    .fw-corica-n .price-tag { --counter-rotate: 8deg; }
    .fw-tilden .price-tag { --counter-rotate: 5deg; }
    .fw-boundary .price-tag { --counter-rotate: -8deg; }
    .fw-metropolitan .price-tag { --counter-rotate: 15deg; }
    .fw-poppy .price-tag { --counter-rotate: -12deg; }
    .fw-diablo .price-tag { --counter-rotate: 8deg; }
    .fw-peacock .price-tag { --counter-rotate: 25deg; }
    .fw-indian .price-tag { --counter-rotate: 20deg; }
    .fw-stonetree .price-tag { --counter-rotate: 15deg; }
    .fw-millvalley .price-tag { --counter-rotate: 30deg; }
    .fw-bodega .price-tag { --counter-rotate: 35deg; }
    .fw-northwood .price-tag { --counter-rotate: 40deg; }
    .fw-fleming .price-tag { --counter-rotate: 28deg; }
    .fw-crystal .price-tag { --counter-rotate: 12deg; }
    .fw-hmb-old .price-tag { --counter-rotate: 20deg; }
    .fw-hmb-ocean .price-tag { --counter-rotate: 25deg; }
    .fw-bridges .price-tag { --counter-rotate: -10deg; }
    .fw-sanramon .price-tag { --counter-rotate: -5deg; }
    .fw-callippe .price-tag { --counter-rotate: -15deg; }
    .fw-redwood .price-tag { --counter-rotate: 5deg; }
    .fw-mcinnis .price-tag { --counter-rotate: 22deg; }
    .fw-laspositas .price-tag { --counter-rotate: -18deg; }
    .fw-wente .price-tag { --counter-rotate: -15deg; }
    .fw-chardonnay .price-tag { --counter-rotate: 5deg; }
    .fw-eaglevines .price-tag { --counter-rotate: 8deg; }
    .fw-napakennedy .price-tag { --counter-rotate: 3deg; }
    .fw-vintners .price-tag { --counter-rotate: 6deg; }
    .fw-silverado-n .price-tag { --counter-rotate: 10deg; }
    .fw-silverado-s .price-tag { --counter-rotate: 12deg; }

    /* Top title bar - minimal */
    .title-bar {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      z-index: 20;
      padding: 0.75rem 1rem;
      background: linear-gradient(180deg, rgba(244, 235, 224, 0.95) 0%, rgba(244, 235, 224, 0.8) 70%, transparent 100%);
      text-align: center;
    }

    .map-title {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--text-dark);
      letter-spacing: 0.05em;
      margin: 0;
    }

    .map-subtitle {
      font-size: 0.65rem;
      color: var(--text-muted);
      letter-spacing: 0.15em;
      text-transform: uppercase;
      margin: 0;
      font-weight: 400;
    }

    /* Bottom navigation bar */
    .nav-bar {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 20;
      padding: 0.5rem 1rem 0.75rem;
      background: linear-gradient(0deg, rgba(244, 235, 224, 0.98) 0%, rgba(244, 235, 224, 0.9) 80%, transparent 100%);
      display: flex;
      justify-content: center;
      gap: 0.5rem;
    }

    .nav-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: 0.5rem 1rem;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 0.7rem;
      font-weight: 600;
      color: var(--text-dark);
      background: rgba(255, 255, 255, 0.7);
      border: 1px solid var(--contour-light);
      border-radius: 6px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
      min-width: 70px;
    }

    .nav-btn:hover {
      background: rgba(255, 255, 255, 0.95);
      border-color: var(--contour);
      transform: translateY(-2px);
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
    }

    .nav-btn.primary {
      background: var(--fairway);
      color: #fff;
      border-color: var(--fairway);
      box-shadow: 0 2px 8px rgba(90, 143, 74, 0.3);
    }

    .nav-btn.primary:hover {
      background: var(--fairway-light);
      border-color: var(--fairway-light);
      box-shadow: 0 4px 12px rgba(90, 143, 74, 0.4);
    }

    .nav-btn svg {
      width: 18px;
      height: 18px;
      fill: none;
      stroke: currentColor;
      stroke-width: 1.8;
    }

    .nav-btn.primary svg {
      stroke-width: 2;
    }

    /* Legend */
    .legend {
      position: absolute;
      bottom: 2rem;
      left: 2rem;
      background: rgba(244, 235, 224, 0.95);
      border: 2px solid var(--contour);
      padding: 1rem 1.5rem;
      font-size: 0.85rem;
      z-index: 15;
    }

    .legend-title {
      font-family: 'Playfair Display', Georgia, serif;
      font-weight: 600;
      margin-bottom: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      font-size: 0.75rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 0.5rem;
    }

    .legend-item:last-child { margin-bottom: 0; }

    .legend-fairway {
      width: 20px;
      height: 12px;
      background: var(--fairway);
      border-radius: 40%;
    }

    .legend-water {
      width: 20px;
      height: 12px;
      background: var(--water);
      border-radius: 2px;
    }

    .legend-contour {
      width: 20px;
      height: 0;
      border-top: 2px solid var(--contour-light);
    }

    /* Scale bar */
    .scale-bar {
      position: absolute;
      bottom: 2rem;
      right: 2rem;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      font-size: 0.75rem;
      color: var(--text-muted);
      z-index: 15;
    }

    .scale-bar-line {
      display: flex;
      margin-bottom: 4px;
    }

    .scale-bar-segment {
      width: 30px;
      height: 8px;
      border: 1px solid var(--contour);
    }

    .scale-bar-segment:nth-child(odd) { background: var(--contour); }
    .scale-bar-segment:nth-child(even) { background: var(--paper); }

    /* Compass */
    .compass-rose {
      position: absolute;
      top: 2rem;
      right: 2rem;
      width: 70px;
      height: 70px;
      z-index: 15;
    }

    .compass-rose svg {
      width: 100%;
      height: 100%;
    }

    /* Login button near compass */
    .login-btn {
      position: absolute;
      top: 2rem;
      right: 7rem;
      z-index: 20;
      display: flex;
      align-items: center;
      gap: 5px;
      padding: 0.4rem 0.7rem;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 0.7rem;
      font-weight: 600;
      color: var(--text-dark);
      background: rgba(255, 255, 255, 0.85);
      border: 1px solid var(--contour-light);
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .login-btn:hover {
      background: rgba(255, 255, 255, 1);
      border-color: var(--contour);
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .login-btn svg {
      width: 14px;
      height: 14px;
      stroke: currentColor;
      stroke-width: 2;
      fill: none;
    }

    /* Region labels */
    .region-label {
      position: absolute;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text-muted);
      pointer-events: none;
      z-index: 10;
    }

    .label-sf { top: 38%; left: 16%; transform: rotate(-10deg); }
    .label-sb { top: 84%; left: 44%; }
    .label-eb { top: 44%; left: 68%; }
    .label-ma { top: 8%; left: 32%; transform: rotate(-5deg); }
    .label-napa { top: 4%; left: 66%; color: #722F37; font-style: italic; }
    .label-pacific { top: 50%; left: 4%; writing-mode: vertical-rl; transform: rotate(180deg); letter-spacing: 0.3em; color: var(--water-dark); }

    /* Landmarks */
    .landmarks {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 8;
    }

    .landmark {
      position: absolute;
      opacity: 0.75;
    }

    /* Golden Gate Bridge - spans the strait */
    .landmark-ggb {
      top: 22%;
      left: 26%;
      width: 55px;
      height: 28px;
    }

    .landmark-ggb svg {
      width: 100%;
      height: 100%;
      fill: none;
      stroke: var(--accent);
      stroke-width: 1.5;
    }

    /* North Bay Redwoods / Muir Woods */
    .landmark-redwoods {
      top: 14%;
      left: 22%;
    }

    .landmark-redwoods svg {
      fill: var(--fairway);
      opacity: 0.6;
    }

    /* Google Campus label - Mountain View */
    .landmark-google {
      top: 70%;
      left: 40%;
      font-family: 'Arial', sans-serif;
      font-size: 6px;
      font-weight: 700;
      letter-spacing: 0.3px;
      opacity: 0.55;
      transform: rotate(-2deg);
    }

    .landmark-google span:nth-child(1) { color: #4285f4; }
    .landmark-google span:nth-child(2) { color: #ea4335; }
    .landmark-google span:nth-child(3) { color: #fbbc04; }
    .landmark-google span:nth-child(4) { color: #4285f4; }
    .landmark-google span:nth-child(5) { color: #34a853; }
    .landmark-google span:nth-child(6) { color: #ea4335; }

    /* East Bay Landmarks */
    .landmark-oakland {
      top: 36%; left: 56%;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 8px; font-weight: 600;
      color: var(--text-dark); opacity: 0.7;
    }
    .landmark-diablo {
      top: 28%; left: 80%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 7px; font-style: italic;
      color: var(--contour); opacity: 0.8;
      transform: rotate(-8deg);
    }
    .landmark-walnutcreek {
      top: 32%; left: 70%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 6px; color: var(--text-muted); opacity: 0.6;
    }
    .landmark-livermore {
      top: 58%; left: 88%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 6px; color: var(--text-muted); opacity: 0.6;
    }
    .landmark-pleasanton {
      top: 54%; left: 72%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 5px; color: var(--text-muted); opacity: 0.6;
    }
    .landmark-fremont {
      top: 58%; left: 58%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 6px; color: var(--text-muted); opacity: 0.6;
    }
    .landmark-hayward {
      top: 50%; left: 60%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 5px; color: var(--text-muted); opacity: 0.5;
    }
    .landmark-lakemerritt {
      top: 38%; left: 54%;
      width: 8px; height: 6px;
      background: var(--water);
      border-radius: 50%;
      opacity: 0.6;
    }
    .landmark-coliseum {
      top: 44%; left: 56%;
      font-family: 'Arial', sans-serif;
      font-size: 4px; font-weight: 700;
      color: #006341; opacity: 0.5;
    }

    /* South Bay Landmarks */
    .landmark-sanjose {
      top: 82%; left: 56%;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 8px; font-weight: 600;
      color: var(--text-dark); opacity: 0.7;
    }
    .landmark-apple {
      top: 72%; left: 38%;
      opacity: 0.5;
    }
    .landmark-apple svg { fill: #555; }
    .landmark-santacruz {
      top: 92%; left: 22%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 6px; color: var(--text-muted); opacity: 0.6;
      transform: rotate(-5deg);
    }

    /* North Bay Landmarks */
    .landmark-napa {
      top: 4%; left: 58%;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 7px; font-weight: 600;
      color: #722F37; opacity: 0.7;
      font-style: italic;
    }
    .landmark-sausalito {
      top: 24%; left: 28%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 5px; color: var(--text-muted); opacity: 0.5;
    }
    .landmark-sanrafael {
      top: 16%; left: 34%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 5px; color: var(--text-muted); opacity: 0.6;
    }
    .landmark-winecountry {
      top: 2%; left: 48%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 5px; font-style: italic;
      color: #722F37; opacity: 0.5;
      letter-spacing: 2px;
    }
    .landmark-pointreyes {
      top: 8%; left: 8%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 5px; font-style: italic;
      color: var(--text-muted); opacity: 0.5;
      transform: rotate(-15deg);
    }

    /* Other Landmarks */
    .landmark-oaklandairport {
      top: 46%; left: 52%;
      font-family: 'Arial', sans-serif;
      font-size: 5px; font-weight: 700;
      color: var(--text-muted); opacity: 0.5;
    }
    .landmark-baybridge {
      top: 34%; left: 44%;
      opacity: 0.6;
    }
    .landmark-mission {
      top: 40%; left: 28%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 4px; color: var(--text-muted); opacity: 0.4;
    }

    /* Oakland Port Cranes - on east side of bay */
    .landmark-cranes {
      top: 36%;
      left: 52%;
    }

    .landmark-cranes svg {
      fill: none;
      stroke: var(--contour);
      stroke-width: 1;
      opacity: 0.6;
    }

    /* Transamerica Pyramid - downtown SF */
    .landmark-pyramid {
      top: 28%;
      left: 32%;
    }

    .landmark-pyramid svg {
      fill: none;
      stroke: var(--contour);
      stroke-width: 1;
      opacity: 0.6;
    }

    /* Mt. Tamalpais */
    .landmark-tamalpais {
      top: 10%;
      left: 28%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 6px;
      font-style: italic;
      color: var(--text-muted);
      opacity: 0.7;
      transform: rotate(-5deg);
    }

    /* Alcatraz Island */
    .landmark-alcatraz {
      top: 26%;
      left: 36%;
      width: 10px;
      height: 8px;
      background: var(--paper-dark);
      border-radius: 50%;
      border: 1px solid var(--contour-light);
    }

    /* Candlestick Point (historic) */
    .landmark-candlestick {
      top: 42%;
      left: 32%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 5px;
      color: var(--text-muted);
      opacity: 0.6;
      white-space: nowrap;
    }

    /* In-N-Out (iconic Bay Area spots) */
    .landmark-innout {
      font-family: 'Arial', sans-serif;
      font-size: 5px;
      font-weight: 700;
      color: #ff0000;
      opacity: 0.5;
      white-space: nowrap;
    }

    .landmark-innout-mv { top: 72%; left: 36%; }
    .landmark-innout-sf { top: 38%; left: 20%; transform: rotate(-5deg); }

    /* Stanford University */
    .landmark-stanford {
      top: 64%;
      left: 30%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 6px;
      font-weight: 600;
      color: #8C1515;
      opacity: 0.6;
    }

    /* UC Berkeley */
    .landmark-berkeley {
      top: 26%;
      left: 58%;
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: 6px;
      font-weight: 600;
      color: #003262;
      opacity: 0.6;
    }

    /* SFO Airport */
    .landmark-sfo {
      top: 50%;
      left: 24%;
      font-family: 'Arial', sans-serif;
      font-size: 5px;
      font-weight: 700;
      color: var(--text-muted);
      opacity: 0.6;
    }

    /* Golden Gate Park */
    .landmark-ggpark {
      top: 30%;
      left: 18%;
      width: 28px;
      height: 8px;
      background: var(--fairway);
      opacity: 0.4;
      border-radius: 2px;
      transform: rotate(-5deg);
    }

    /* Presidio */
    .landmark-presidio {
      top: 24%;
      left: 22%;
      width: 18px;
      height: 12px;
      background: var(--fairway);
      opacity: 0.35;
      border-radius: 3px;
      transform: rotate(-10deg);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .title-bar {
        padding: 0.5rem 0.75rem;
      }

      .map-title {
        font-size: 1.1rem;
      }

      .map-subtitle {
        font-size: 0.55rem;
      }

      .nav-bar {
        padding: 0.4rem 0.5rem 0.6rem;
        gap: 0.3rem;
      }

      .nav-btn {
        padding: 0.4rem 0.6rem;
        font-size: 0.6rem;
        min-width: 60px;
      }

      .nav-btn svg {
        width: 16px;
        height: 16px;
      }

      .login-btn {
        top: 0.5rem;
        right: 4rem;
        padding: 0.3rem 0.5rem;
        font-size: 0.6rem;
      }

      .legend, .scale-bar {
        display: none;
      }

      .compass-rose {
        width: 40px;
        height: 40px;
        top: 0.5rem;
        right: 0.5rem;
      }

      .fairway {
        transform: scale(0.85);
      }

      .region-label {
        font-size: 0.55rem;
      }
    }
  </style>
</head>
<body>
  <div class="map-container">
    <!-- Zoomed map content wrapper -->
    <div class="map-content">
    <!-- Paper texture overlay -->
    <div class="paper-texture"></div>

    <!-- Grid lines -->
    <div class="map-grid"></div>

    <!-- Contour lines -->
    <div class="contour-lines">
      <div class="contour contour-sf-1"></div>
      <div class="contour contour-sf-2"></div>
      <div class="contour contour-sf-3"></div>
      <div class="contour contour-eb-1"></div>
      <div class="contour contour-eb-2"></div>
      <div class="contour contour-eb-3"></div>
      <div class="contour contour-ma-1"></div>
      <div class="contour contour-ma-2"></div>
      <div class="contour contour-sb-1"></div>
      <div class="contour contour-sb-2"></div>
    </div>

    <!-- Water bodies - expanded California geography -->
    <div class="pacific"></div>
    <div class="tomales-bay"></div>
    <div class="golden-gate-strait"></div>
    <div class="san-pablo-bay"></div>
    <div class="bay-water"></div>
    <div class="south-bay"></div>
    <div class="monterey-bay"></div>
    <div class="sac-delta"></div>

    <!-- Bay Area Landmarks -->
    <div class="landmarks">
      <!-- Parks (background layer) -->
      <div class="landmark landmark-presidio"></div>
      <div class="landmark landmark-ggpark"></div>

      <!-- Golden Gate Bridge -->
      <div class="landmark landmark-ggb">
        <svg viewBox="0 0 55 28">
          <path d="M4,24 L10,6 L15,24 M40,24 L46,6 L51,24" stroke-linecap="round"/>
          <path d="M10,6 L46,6" stroke-linecap="round"/>
          <path d="M0,24 L55,24" stroke-width="2"/>
          <path d="M10,12 L46,12" stroke-width="0.5"/>
          <path d="M10,18 L46,18" stroke-width="0.5"/>
        </svg>
      </div>

      <!-- North Bay Redwoods / Muir Woods -->
      <div class="landmark landmark-redwoods">
        <svg width="35" height="45" viewBox="0 0 35 45">
          <path d="M10,45 L10,28 L5,28 L10,18 L7,18 L10,8 L8,8 L10,0 L12,8 L10,8 L13,18 L10,18 L15,28 L10,28 L10,45"/>
          <path d="M22,45 L22,32 L19,32 L22,22 L20,22 L22,14 L24,22 L22,22 L25,32 L22,32 L22,45"/>
          <path d="M30,45 L30,35 L28,35 L30,27 L32,35 L30,35 L30,45"/>
        </svg>
      </div>

      <!-- Mt. Tamalpais -->
      <div class="landmark landmark-tamalpais">Mt. Tam</div>

      <!-- Alcatraz Island -->
      <div class="landmark landmark-alcatraz" title="Alcatraz"></div>

      <!-- Transamerica Pyramid -->
      <div class="landmark landmark-pyramid">
        <svg width="10" height="20" viewBox="0 0 10 20">
          <path d="M5,0 L9,20 L1,20 Z"/>
          <line x1="2.5" y1="14" x2="7.5" y2="14"/>
        </svg>
      </div>

      <!-- Oakland Port Cranes -->
      <div class="landmark landmark-cranes">
        <svg width="30" height="24" viewBox="0 0 30 24">
          <path d="M4,24 L4,5 L15,5 M7,24 L7,7"/>
          <path d="M17,24 L17,8 L27,8 M20,24 L20,10"/>
        </svg>
      </div>

      <!-- Candlestick Point -->
      <div class="landmark landmark-candlestick">Candlestick Pt</div>

      <!-- SFO Airport -->
      <div class="landmark landmark-sfo">SFO</div>

      <!-- Stanford University -->
      <div class="landmark landmark-stanford">Stanford</div>

      <!-- UC Berkeley -->
      <div class="landmark landmark-berkeley">Berkeley</div>

      <!-- In-N-Out locations -->
      <div class="landmark landmark-innout landmark-innout-mv">In-N-Out</div>
      <div class="landmark landmark-innout landmark-innout-sf">In-N-Out</div>

      <!-- Google Campus -->
      <div class="landmark landmark-google">
        <span>G</span><span>o</span><span>o</span><span>g</span><span>l</span><span>e</span>
      </div>

      <!-- East Bay Landmarks -->
      <div class="landmark landmark-oakland">Oakland</div>
      <div class="landmark landmark-diablo">Mt. Diablo</div>
      <div class="landmark landmark-walnutcreek">Walnut Creek</div>
      <div class="landmark landmark-livermore">Livermore</div>
      <div class="landmark landmark-pleasanton">Pleasanton</div>
      <div class="landmark landmark-fremont">Fremont</div>
      <div class="landmark landmark-hayward">Hayward</div>
      <div class="landmark landmark-lakemerritt">Lake Merritt</div>
      <div class="landmark landmark-coliseum">Coliseum</div>

      <!-- South Bay Landmarks -->
      <div class="landmark landmark-sanjose">San Jos√©</div>
      <div class="landmark landmark-apple">
        <svg width="12" height="14" viewBox="0 0 12 14"><path d="M10.5,5c-0.4-1.5-1.8-2.5-3-2.5c-0.7,0-1.3,0.3-1.8,0.5C5.2,3.2,4.8,3,4.3,3C2.8,3,1.5,4.5,1.5,6.5c0,3,2,6.5,3.5,6.5c0.7,0,1-0.3,1.5-0.3s0.8,0.3,1.5,0.3c1.5,0,3-3,3.5-5C10,7.5,9,6.5,10.5,5z M6,2.5c0.5-1,1.5-1.5,2.5-1.5C8.5,2,7.5,3,6,2.5z"/></svg>
      </div>
      <div class="landmark landmark-santacruz">Santa Cruz</div>

      <!-- North Bay Landmarks -->
      <div class="landmark landmark-napa">Napa Valley</div>
      <div class="landmark landmark-sausalito">Sausalito</div>
      <div class="landmark landmark-sanrafael">San Rafael</div>
      <div class="landmark landmark-winecountry">Wine Country</div>
      <div class="landmark landmark-pointreyes">Pt. Reyes</div>

      <!-- Other Landmarks -->
      <div class="landmark landmark-oaklandairport">OAK</div>
      <div class="landmark landmark-baybridge">
        <svg width="40" height="12" viewBox="0 0 40 12">
          <path d="M0,10 L8,10 L10,4 L14,10 L18,4 L22,10 L26,4 L30,10 L32,4 L40,10" stroke="#8b7355" stroke-width="1.5" fill="none"/>
        </svg>
      </div>
      <div class="landmark landmark-mission">Mission Dist.</div>
    </div>

    <!-- Golf course fairways -->
    <div class="fairways">
      <!-- San Francisco -->
      <a href="/course/tpc-harding-park" class="fairway fw-harding" data-course="TPC Harding Park" data-initial="H"><span class="price-tag loading">...</span></a>
      <a href="/course/tpc-harding-park-fleming-9" class="fairway fw-fleming" data-course="TPC Harding Park - Fleming 9" data-initial="F"><span class="price-tag loading">...</span></a>
      <a href="/course/lincoln-park-golf-course" class="fairway fw-lincoln" data-course="Lincoln Park Golf Course" data-initial="L"><span class="price-tag loading">...</span></a>
      <a href="/course/presidio-golf-course" class="fairway fw-presidio" data-course="Presidio Golf Course" data-initial="P"><span class="price-tag loading">...</span></a>
      <a href="/course/sharp-park-golf-course" class="fairway fw-sharp" data-course="Sharp Park Golf Course" data-initial="S"><span class="price-tag loading">...</span></a>
      <a href="/course/golden-gate-park-golf-course" class="fairway fw-gleneagles" data-course="Golden Gate Park Golf Course" data-initial="G"><span class="price-tag loading">...</span></a>
      <a href="/course/crystal-springs-golf-course" class="fairway fw-crystal" data-course="Crystal Springs Golf Course" data-initial="CS"><span class="price-tag loading">...</span></a>
      <a href="/course/half-moon-bay-old-course" class="fairway fw-hmb-old" data-course="Half Moon Bay - Old Course" data-initial="HO"><span class="price-tag loading">...</span></a>
      <a href="/course/half-moon-bay-ocean-course" class="fairway fw-hmb-ocean" data-course="Half Moon Bay - Ocean Course" data-initial="HM"><span class="price-tag loading">...</span></a>

      <!-- South Bay -->
      <a href="/course/palo-alto-golf-course" class="fairway fw-paloalto" data-course="Palo Alto Golf Course" data-initial="PA"><span class="price-tag loading">...</span></a>
      <a href="/course/baylands-golf-links" class="fairway fw-baylands" data-course="Baylands Golf Links" data-initial="BL"><span class="price-tag loading">...</span></a>
      <a href="/course/santa-teresa-golf-club" class="fairway fw-santateresa" data-course="Santa Teresa Golf Club" data-initial="ST"><span class="price-tag loading">...</span></a>
      <a href="/course/cinnabar-hills-golf-club" class="fairway fw-cinnabar" data-course="Cinnabar Hills Golf Club" data-initial="C"><span class="price-tag loading">...</span></a>
      <a href="/course/deep-cliff-golf-course" class="fairway fw-deepcliff" data-course="Deep Cliff Golf Course" data-initial="D"><span class="price-tag loading">...</span></a>
      <a href="/course/san-jose-municipal-golf-course" class="fairway fw-sanjose" data-course="San Jose Municipal Golf Course" data-initial="SJ"><span class="price-tag loading">...</span></a>
      <a href="/course/pasatiempo-golf-club" class="fairway fw-pasatiempo" data-course="Pasatiempo Golf Club" data-initial="PT"><span class="price-tag loading">...</span></a>

      <!-- East Bay -->
      <a href="/course/corica-park-south-course" class="fairway fw-corica" data-course="Corica Park - South Course" data-initial="CS"><span class="price-tag loading">...</span></a>
      <a href="/course/corica-park-north-course" class="fairway fw-corica-n" data-course="Corica Park - North Course" data-initial="CN"><span class="price-tag loading">...</span></a>
      <a href="/course/tilden-park-golf-course" class="fairway fw-tilden" data-course="Tilden Park Golf Course" data-initial="T"><span class="price-tag loading">...</span></a>
      <a href="/course/boundary-oak-golf-course" class="fairway fw-boundary" data-course="Boundary Oak Golf Course" data-initial="B"><span class="price-tag loading">...</span></a>
      <a href="/course/metropolitan-golf-links" class="fairway fw-metropolitan" data-course="Metropolitan Golf Links" data-initial="M"><span class="price-tag loading">...</span></a>
      <a href="/course/poppy-ridge-golf-course" class="fairway fw-poppy" data-course="Poppy Ridge Golf Course" data-initial="PR"><span class="price-tag loading">...</span></a>
      <a href="/course/diablo-creek-golf-course" class="fairway fw-diablo" data-course="Diablo Creek Golf Course" data-initial="DC"><span class="price-tag loading">...</span></a>
      <a href="/course/the-bridges-golf-club" class="fairway fw-bridges" data-course="The Bridges Golf Club" data-initial="BR"><span class="price-tag loading">...</span></a>
      <a href="/course/san-ramon-golf-club" class="fairway fw-sanramon" data-course="San Ramon Golf Club" data-initial="SR"><span class="price-tag loading">...</span></a>
      <a href="/course/las-positas-golf-course" class="fairway fw-laspositas" data-course="Las Positas Golf Course" data-initial="LP"><span class="price-tag loading">...</span></a>
      <a href="/course/wente-vineyards" class="fairway fw-wente" data-course="Wente Vineyards" data-initial="W"><span class="price-tag loading">...</span></a>
      <a href="/course/callippe-preserve-golf-course" class="fairway fw-callippe" data-course="Callippe Preserve Golf Course" data-initial="CA"><span class="price-tag loading">...</span></a>
      <a href="/course/redwood-canyon-golf-course" class="fairway fw-redwood" data-course="Redwood Canyon Golf Course" data-initial="RC"><span class="price-tag loading">...</span></a>

      <!-- North Bay -->
      <a href="/course/peacock-gap-golf-club" class="fairway fw-peacock" data-course="Peacock Gap Golf Club" data-initial="PG"><span class="price-tag loading">...</span></a>
      <a href="/course/indian-valley-golf-club" class="fairway fw-indian" data-course="Indian Valley Golf Club" data-initial="IV"><span class="price-tag loading">...</span></a>
      <a href="/course/stonetree-golf-club" class="fairway fw-stonetree" data-course="StoneTree Golf Club" data-initial="ST"><span class="price-tag loading">...</span></a>
      <a href="/course/mill-valley-golf-course" class="fairway fw-millvalley" data-course="Mill Valley Golf Course" data-initial="MV"><span class="price-tag loading">...</span></a>
      <a href="/course/the-links-at-bodega-harbour" class="fairway fw-bodega" data-course="The Links at Bodega Harbour" data-initial="BH"><span class="price-tag loading">...</span></a>
      <a href="/course/northwood-golf-club" class="fairway fw-northwood" data-course="Northwood Golf Club" data-initial="NW"><span class="price-tag loading">...</span></a>
      <a href="/course/mcinnis-park-golf-center" class="fairway fw-mcinnis" data-course="McInnis Park Golf Center" data-initial="MC"><span class="price-tag loading">...</span></a>

      <!-- Napa Valley -->
      <a href="/course/chardonnay-golf-club" class="fairway fw-chardonnay" data-course="Chardonnay Golf Club" data-initial="CH"><span class="price-tag loading">...</span></a>
      <a href="/course/eagle-vines-golf-club" class="fairway fw-eaglevines" data-course="Eagle Vines Golf Club" data-initial="EV"><span class="price-tag loading">...</span></a>
      <a href="/course/napa-golf-course-at-kennedy-park" class="fairway fw-napakennedy" data-course="Napa Golf Course at Kennedy Park" data-initial="NK"><span class="price-tag loading">...</span></a>
      <a href="/course/vintners-golf-club" class="fairway fw-vintners" data-course="Vintner's Golf Club" data-initial="VG"><span class="price-tag loading">...</span></a>
      <a href="/course/silverado-resort-north-course" class="fairway fw-silverado-n" data-course="Silverado Resort - North Course" data-initial="SN"><span class="price-tag loading">...</span></a>
      <a href="/course/silverado-resort-south-course" class="fairway fw-silverado-s" data-course="Silverado Resort - South Course" data-initial="SS"><span class="price-tag loading">...</span></a>
    </div>

    <!-- Region labels -->
    <div class="region-label label-sf">San Francisco</div>
    <div class="region-label label-sb">South Bay</div>
    <div class="region-label label-eb">East Bay</div>
    <div class="region-label label-ma">North Bay</div>
    <div class="region-label label-napa">Napa</div>
    <div class="region-label label-pacific">Pacific Ocean</div>
    </div><!-- End map-content -->

    <!-- Top title bar -->
    <div class="title-bar">
      <h1 class="map-title">Bay Area Golf</h1>
      <p class="map-subtitle">San Francisco & Vicinity ‚Ä¢ 40+ Public Courses</p>
    </div>

    <!-- Login button (top right, near compass) -->
    <a href="/account.html" class="login-btn" id="login-btn">
      <svg viewBox="0 0 24 24">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      <span id="login-text">Log In</span>
    </a>

    <!-- Bottom navigation bar -->
    <nav class="nav-bar">
      <a href="/app.html" class="nav-btn primary">
        <svg viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        Tee Times
      </a>
      <a href="/courses.html" class="nav-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 21h18M5 21V7l8-4 8 4v14"></path>
          <path d="M9 21v-6h6v6"></path>
        </svg>
        Courses
      </a>
      <a href="/scorebook.html" class="nav-btn">
        <svg viewBox="0 0 24 24">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
        </svg>
        Scorebook
      </a>
      <a href="/community.html" class="nav-btn">
        <svg viewBox="0 0 24 24">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
        </svg>
        Community
      </a>
    </nav>

    <!-- Legend -->
    <div class="legend">
      <div class="legend-title">Legend</div>
      <div class="legend-item">
        <div class="legend-fairway"></div>
        <span>Golf Course</span>
      </div>
      <div class="legend-item">
        <div class="legend-water"></div>
        <span>Water</span>
      </div>
      <div class="legend-item">
        <div class="legend-contour"></div>
        <span>Contour Line</span>
      </div>
    </div>

    <!-- Scale bar -->
    <div class="scale-bar">
      <div class="scale-bar-line">
        <div class="scale-bar-segment"></div>
        <div class="scale-bar-segment"></div>
        <div class="scale-bar-segment"></div>
        <div class="scale-bar-segment"></div>
      </div>
      <span>Approximate Scale</span>
    </div>

    <!-- Compass rose -->
    <div class="compass-rose">
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="45" fill="none" stroke="#8b7355" stroke-width="1.5"/>
        <circle cx="50" cy="50" r="35" fill="none" stroke="#8b7355" stroke-width="0.5"/>
        <!-- N -->
        <polygon points="50,8 45,30 50,25 55,30" fill="#8b7355"/>
        <text x="50" y="7" text-anchor="middle" fill="#3d3225" font-size="8" font-weight="600" font-family="Playfair Display, serif">N</text>
        <!-- S -->
        <line x1="50" y1="70" x2="50" y2="92" stroke="#8b7355" stroke-width="1"/>
        <text x="50" y="99" text-anchor="middle" fill="#6b5d4d" font-size="6" font-family="serif">S</text>
        <!-- E -->
        <line x1="70" y1="50" x2="92" y2="50" stroke="#8b7355" stroke-width="1"/>
        <text x="97" y="53" text-anchor="middle" fill="#6b5d4d" font-size="6" font-family="serif">E</text>
        <!-- W -->
        <line x1="8" y1="50" x2="30" y2="50" stroke="#8b7355" stroke-width="1"/>
        <text x="4" y="53" text-anchor="middle" fill="#6b5d4d" font-size="6" font-family="serif">W</text>
        <!-- Diagonal lines -->
        <line x1="25" y1="25" x2="35" y2="35" stroke="#8b7355" stroke-width="0.5"/>
        <line x1="75" y1="25" x2="65" y2="35" stroke="#8b7355" stroke-width="0.5"/>
        <line x1="25" y1="75" x2="35" y2="65" stroke="#8b7355" stroke-width="0.5"/>
        <line x1="75" y1="75" x2="65" y2="65" stroke="#8b7355" stroke-width="0.5"/>
        <circle cx="50" cy="50" r="3" fill="#8b7355"/>
      </svg>
    </div>
  </div>

  <script>
    // Load next available tee time prices for each course
    async function loadPrices() {
      try {
        // Fetch cheapest next available tee time per course
        const res = await fetch('/api/tee-times/next-available');
        const teeTimes = await res.json();

        // Build lookup by course name
        const coursePrices = {};
        teeTimes.forEach(tt => {
          coursePrices[tt.course_name] = { price: tt.price, time: tt.time };
        });

        // Update price tags
        document.querySelectorAll('.fairway').forEach(fairway => {
          const courseName = fairway.dataset.course;
          const priceTag = fairway.querySelector('.price-tag');
          if (!priceTag) return;

          const data = coursePrices[courseName];
          if (data && data.price) {
            const shortTime = formatShortTime(data.time);
            priceTag.textContent = `$${Math.round(data.price)}`;
            priceTag.title = `Next: ${shortTime}`;
            priceTag.classList.remove('loading');
          } else {
            priceTag.textContent = '--';
            priceTag.classList.remove('loading');
          }
        });
      } catch (e) {
        console.error('Error loading prices:', e);
        document.querySelectorAll('.price-tag').forEach(tag => {
          tag.textContent = '--';
          tag.classList.remove('loading');
        });
      }
    }

    function formatShortTime(time) {
      if (!time) return '';
      // Handle "7:30AM" format (GolfNow)
      if (time.includes('AM') || time.includes('PM')) {
        return time.toLowerCase().replace('am', 'a').replace('pm', 'p');
      }
      // Handle "07:30" format (24-hour)
      const [h, m] = time.split(':').map(Number);
      const ampm = h >= 12 ? 'p' : 'a';
      const hour = h % 12 || 12;
      return `${hour}:${String(m).padStart(2, '0')}${ampm}`;
    }

    // Load prices on page load
    document.addEventListener('DOMContentLoaded', loadPrices);

    // Check auth state and update login button
    function updateLoginBtn() {
      const authToken = localStorage.getItem('authToken');
      const loginText = document.getElementById('login-text');
      if (loginText) {
        loginText.textContent = authToken ? 'Account' : 'Log In';
      }
    }
    document.addEventListener('DOMContentLoaded', updateLoginBtn);

    // Draggable map functionality
    document.addEventListener('DOMContentLoaded', function() {
      const mapContent = document.querySelector('.map-content');
      const container = document.querySelector('.map-container');

      let isDragging = false;
      let startX, startY;
      let currentX = 0, currentY = 0;

      // Bounds to prevent dragging too far
      const bounds = { minX: -50, maxX: 50, minY: -50, maxY: 50 };

      function updatePosition() {
        // Clamp to bounds
        currentX = Math.max(bounds.minX, Math.min(bounds.maxX, currentX));
        currentY = Math.max(bounds.minY, Math.min(bounds.maxY, currentY));
        mapContent.style.left = `calc(-50% + ${currentX}%)`;
        mapContent.style.top = `calc(-50% + ${currentY}%)`;
      }

      // Mouse events
      mapContent.addEventListener('mousedown', (e) => {
        if (e.target.closest('a')) return; // Don't drag when clicking links
        isDragging = true;
        mapContent.classList.add('dragging');
        startX = e.clientX;
        startY = e.clientY;
        e.preventDefault();
      });

      document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        const dx = (e.clientX - startX) / container.offsetWidth * 100;
        const dy = (e.clientY - startY) / container.offsetHeight * 100;
        currentX += dx;
        currentY += dy;
        startX = e.clientX;
        startY = e.clientY;
        updatePosition();
      });

      document.addEventListener('mouseup', () => {
        isDragging = false;
        mapContent.classList.remove('dragging');
      });

      // Touch events
      mapContent.addEventListener('touchstart', (e) => {
        if (e.target.closest('a')) return;
        isDragging = true;
        mapContent.classList.add('dragging');
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
      }, { passive: true });

      document.addEventListener('touchmove', (e) => {
        if (!isDragging) return;
        const dx = (e.touches[0].clientX - startX) / container.offsetWidth * 100;
        const dy = (e.touches[0].clientY - startY) / container.offsetHeight * 100;
        currentX += dx;
        currentY += dy;
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
        updatePosition();
      }, { passive: true });

      document.addEventListener('touchend', () => {
        isDragging = false;
        mapContent.classList.remove('dragging');
      });
    });

    // Register Service Worker for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('SW registered'))
          .catch(err => console.log('SW registration failed:', err));
      });
    }
  </script>
  <script src="/js/analytics.js"></script>
</body>
</html>
