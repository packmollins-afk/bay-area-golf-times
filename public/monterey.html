<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">

  <!-- Primary Meta Tags -->
  <title>Monterey Peninsula Golf | 12 Public Courses</title>
  <meta name="title" content="Monterey Peninsula Golf | 12 Public Courses">
  <meta name="description" content="Discover 12 public golf courses on the Monterey Peninsula. From Pacific Grove to Carmel Valley - find tee times at courses near Pebble Beach.">
  <meta name="keywords" content="monterey golf, pebble beach area golf, pacific grove golf, carmel golf, monterey peninsula golf courses, public golf monterey">
  <meta name="author" content="Bay Area Golf">
  <meta name="robots" content="index, follow">

  <link rel="canonical" href="https://bayareagolf.now/monterey.html">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bayareagolf.now/monterey.html">
  <meta property="og:title" content="Monterey Peninsula Golf | 12 Public Courses">
  <meta property="og:description" content="Discover 12 public golf courses on the Monterey Peninsula. Interactive map with live pricing.">
  <meta property="og:site_name" content="Bay Area Golf">

  <!-- Geo Meta -->
  <meta name="geo.region" content="US-CA">
  <meta name="geo.placename" content="Monterey Peninsula">
  <meta name="geo.position" content="36.6002;-121.8947">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <meta name="theme-color" content="#2d5a27">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap');

    * { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --paper: #f4ebe0;
      --paper-dark: #e8dcc8;
      --contour: #8b7355;
      --contour-light: rgba(139, 115, 85, 0.3);
      --water: #a8c5d8;
      --water-dark: #7ba3bd;
      --fairway: #5a8f4a;
      --fairway-light: #7cb86a;
      --text-dark: #3d3225;
      --text-muted: #6b5d4d;
      --accent: #c4553a;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }

    body {
      font-family: 'Source Serif 4', Georgia, serif;
      background: var(--paper);
      color: var(--text-dark);
    }

    .map-container {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      background: var(--paper);
    }

    .map-content {
      position: absolute;
      width: 150%;
      height: 150%;
      left: -25%;
      top: -25%;
      cursor: grab;
      transition: none;
      user-select: none;
    }

    .map-content:active { cursor: grabbing; }

    /* Monterey Bay SVG */
    .monterey-bay-svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    /* Bottom navigation bar */
    .nav-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, var(--paper) 85%, transparent);
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      padding: 1rem 1rem calc(1.2rem + env(safe-area-inset-bottom, 12px));
      z-index: 100;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    }

    .nav-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      text-decoration: none;
      color: var(--text-dark);
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 0.75rem;
      font-weight: 600;
      padding: 10px 16px;
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid var(--contour-light);
      border-radius: 12px;
      transition: all 0.2s ease;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      min-width: 70px;
    }

    .nav-btn:hover {
      background: rgba(255, 255, 255, 0.95);
      border-color: var(--contour);
      transform: translateY(-2px);
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
    }

    .nav-btn.primary {
      background: var(--fairway);
      color: #fff;
      border-color: var(--fairway);
      box-shadow: 0 2px 8px rgba(90, 143, 74, 0.3);
    }

    .nav-btn.primary:hover {
      background: var(--fairway-light);
      border-color: var(--fairway-light);
      box-shadow: 0 4px 12px rgba(90, 143, 74, 0.4);
    }

    .nav-btn svg {
      width: 18px;
      height: 18px;
      fill: none;
      stroke: currentColor;
      stroke-width: 1.8;
    }

    .nav-btn.primary svg {
      stroke-width: 2;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      padding: 16px 20px;
      background: linear-gradient(to bottom, var(--paper) 70%, transparent);
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 20px;
      font-weight: 700;
      color: var(--text-dark);
      text-decoration: none;
    }

    .logo span { color: var(--fairway); }

    .back-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: var(--fairway);
      color: white;
      border-radius: 20px;
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      transition: all 0.2s;
    }

    .back-btn:hover {
      background: var(--fairway-light);
      transform: translateY(-1px);
    }

    /* Zoom Controls */
    .zoom-controls {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 100;
    }

    .zoom-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--paper);
      border: 1px solid var(--contour-light);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: var(--text-dark);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: all 0.2s;
    }

    .zoom-btn:hover {
      background: var(--paper-dark);
      transform: scale(1.05);
    }

    /* Fairway Styles */
    .fairway {
      position: absolute;
      background: linear-gradient(135deg, var(--fairway) 0%, var(--fairway-light) 50%, var(--fairway) 100%);
      border-radius: 50%;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      transition: transform 0.2s, box-shadow 0.2s;
      z-index: 10;
    }

    .fairway:hover {
      transform: scale(1.15);
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      z-index: 20;
    }

    .price-tag {
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%) rotate(var(--counter-rotate, 0deg));
      background: white;
      color: var(--text-dark);
      font-size: 11px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 10px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.15);
      white-space: nowrap;
    }

    .price-tag.loading {
      background: var(--paper-dark);
      color: var(--text-muted);
    }

    /* Monterey Course Positions */
    /* Pacific Grove: 36.6337, -121.9317 - top-left near Asilomar */
    .fw-pacificgrove { top: 28%; left: 22%; width: 28px; height: 42px; transform: rotate(-15deg); }
    /* Bayonet: 36.6180, -121.8350 - center-top former Fort Ord */
    .fw-bayonet { top: 32%; left: 48%; width: 28px; height: 44px; transform: rotate(-10deg); }
    /* Black Horse: 36.6150, -121.8320 - near Bayonet */
    .fw-blackhorse { top: 35%; left: 54%; width: 26px; height: 40px; transform: rotate(-5deg); }
    /* Del Monte: 36.5950, -121.8780 - center near downtown */
    .fw-delmonte { top: 42%; left: 35%; width: 26px; height: 40px; transform: rotate(-12deg); }
    /* Monterey Pines: 36.5780, -121.8520 - near Del Monte */
    .fw-montereypines { top: 48%; left: 42%; width: 24px; height: 36px; transform: rotate(-8deg); }
    /* Laguna Seca: 36.5820, -121.7580 - east toward raceway */
    .fw-lagunaseca { top: 45%; left: 68%; width: 26px; height: 40px; transform: rotate(5deg); }
    /* Quail: 36.4850, -121.8420 - toward Carmel Valley */
    .fw-quail { top: 60%; left: 44%; width: 28px; height: 44px; transform: rotate(-10deg); }
    /* Carmel Valley Ranch: 36.4780, -121.7320 - Carmel Valley east */
    .fw-carmelvalley { top: 64%; left: 72%; width: 28px; height: 44px; transform: rotate(8deg); }
    /* Corral de Tierra: 36.5380, -121.6950 - northeast */
    .fw-corral { top: 52%; left: 78%; width: 26px; height: 40px; transform: rotate(10deg); }
    /* Twin Creeks: 36.6780, -121.6550 - Salinas area */
    .fw-twincreeks { top: 22%; left: 82%; width: 18px; height: 28px; transform: rotate(5deg); }
    /* Crazy Horse: 36.7120, -121.5980 - far Salinas */
    .fw-crazyhorse { top: 16%; left: 90%; width: 24px; height: 38px; transform: rotate(8deg); }
    /* Salinas Fairways: 36.6850, -121.6380 - Salinas */
    .fw-salinasfairways { top: 20%; left: 86%; width: 16px; height: 26px; transform: rotate(0deg); }

    /* Counter-rotate price tags */
    .fw-pacificgrove .price-tag { --counter-rotate: 15deg; }
    .fw-bayonet .price-tag { --counter-rotate: 10deg; }
    .fw-blackhorse .price-tag { --counter-rotate: 5deg; }
    .fw-delmonte .price-tag { --counter-rotate: 12deg; }
    .fw-montereypines .price-tag { --counter-rotate: 8deg; }
    .fw-lagunaseca .price-tag { --counter-rotate: -5deg; }
    .fw-quail .price-tag { --counter-rotate: 10deg; }
    .fw-carmelvalley .price-tag { --counter-rotate: -8deg; }
    .fw-corral .price-tag { --counter-rotate: -10deg; }
    .fw-twincreeks .price-tag { --counter-rotate: -5deg; }
    .fw-crazyhorse .price-tag { --counter-rotate: -8deg; }
    .fw-salinasfairways .price-tag { --counter-rotate: 0deg; }

    /* Region Labels */
    .region-label {
      position: absolute;
      font-family: 'Playfair Display', serif;
      font-size: 14px;
      font-style: italic;
      color: var(--text-muted);
      opacity: 0.7;
      pointer-events: none;
      white-space: nowrap;
    }

    .label-monterey-bay { top: 15%; left: 30%; font-size: 16px; }
    .label-pacific { top: 50%; left: 8%; transform: rotate(-90deg); }
    .label-carmel { top: 70%; left: 35%; }
    .label-salinas { top: 12%; left: 75%; }

    /* Hero text */
    .hero-text {
      position: fixed;
      bottom: 100px;
      left: 20px;
      right: 20px;
      text-align: center;
      z-index: 50;
      pointer-events: none;
    }

    .hero-title {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .hero-subtitle {
      font-size: 14px;
      color: var(--text-muted);
    }

    @media (max-width: 768px) {
      .hero-text { bottom: 90px; }
      .hero-title { font-size: 22px; }
      .zoom-controls { right: 12px; }
    }
  </style>
</head>
<body>
  <header class="header">
    <a href="/" class="logo">Monterey <span>Golf</span></a>
    <a href="/" class="back-btn">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Bay Area
    </a>
  </header>

  <div class="map-container">
    <div class="map-content" id="map-content">
      <!-- Monterey Bay SVG Map -->
      <svg class="monterey-bay-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
        <!-- Pacific Ocean -->
        <rect x="0" y="0" width="25" height="100" fill="var(--water)" opacity="0.4"/>

        <!-- Monterey Bay curve -->
        <path d="M 25 0
                 Q 35 15, 25 35
                 Q 20 45, 30 55
                 L 25 100
                 L 0 100
                 L 0 0 Z"
              fill="var(--water)" opacity="0.5"/>

        <!-- Coastline -->
        <path d="M 25 0
                 Q 35 15, 25 35
                 Q 20 45, 30 55
                 Q 25 70, 20 100"
              fill="none"
              stroke="var(--water-dark)"
              stroke-width="0.3"
              opacity="0.6"/>

        <!-- Carmel Bay indent -->
        <path d="M 28 60 Q 25 65, 28 70"
              fill="var(--water)" opacity="0.4"/>

        <!-- Topographic contours - hills -->
        <ellipse cx="55" cy="40" rx="20" ry="15" fill="none" stroke="var(--contour-light)" stroke-width="0.15"/>
        <ellipse cx="55" cy="40" rx="15" ry="10" fill="none" stroke="var(--contour-light)" stroke-width="0.15"/>
        <ellipse cx="75" cy="60" rx="18" ry="12" fill="none" stroke="var(--contour-light)" stroke-width="0.15"/>
        <ellipse cx="85" cy="30" rx="12" ry="8" fill="none" stroke="var(--contour-light)" stroke-width="0.15"/>

        <!-- Salinas Valley hint -->
        <path d="M 80 0 L 85 50" fill="none" stroke="var(--contour-light)" stroke-width="0.2" stroke-dasharray="2,2"/>
      </svg>

      <!-- Fairway Course Links -->
      <a href="/course/pacific-grove-golf-links" class="fairway fw-pacificgrove" data-course="Pacific Grove Golf Links"><span class="price-tag loading">...</span></a>
      <a href="/course/bayonet-golf-course" class="fairway fw-bayonet" data-course="Bayonet Golf Course"><span class="price-tag loading">...</span></a>
      <a href="/course/black-horse-golf-club" class="fairway fw-blackhorse" data-course="Black Horse Golf Club"><span class="price-tag loading">...</span></a>
      <a href="/course/del-monte-golf-course" class="fairway fw-delmonte" data-course="Del Monte Golf Course"><span class="price-tag loading">...</span></a>
      <a href="/course/monterey-pines-golf-club" class="fairway fw-montereypines" data-course="Monterey Pines Golf Club"><span class="price-tag loading">...</span></a>
      <a href="/course/laguna-seca-golf-ranch" class="fairway fw-lagunaseca" data-course="Laguna Seca Golf Ranch"><span class="price-tag loading">...</span></a>
      <a href="/course/the-quail-golf-club" class="fairway fw-quail" data-course="The Quail Golf Club"><span class="price-tag loading">...</span></a>
      <a href="/course/carmel-valley-ranch" class="fairway fw-carmelvalley" data-course="Carmel Valley Ranch"><span class="price-tag loading">...</span></a>
      <a href="/course/corral-de-tierra-country-club" class="fairway fw-corral" data-course="Corral de Tierra Country Club"><span class="price-tag loading">...</span></a>
      <a href="/course/twin-creeks-golf-course" class="fairway fw-twincreeks" data-course="Twin Creeks Golf Course"><span class="price-tag loading">...</span></a>
      <a href="/course/the-club-at-crazy-horse-ranch" class="fairway fw-crazyhorse" data-course="The Club at Crazy Horse Ranch"><span class="price-tag loading">...</span></a>
      <a href="/course/salinas-fairways-golf-course" class="fairway fw-salinasfairways" data-course="Salinas Fairways Golf Course"><span class="price-tag loading">...</span></a>

      <!-- Region Labels -->
      <div class="region-label label-monterey-bay">Monterey Bay</div>
      <div class="region-label label-pacific">Pacific Ocean</div>
      <div class="region-label label-carmel">Carmel</div>
      <div class="region-label label-salinas">Salinas Valley</div>
    </div>

    <div class="zoom-controls">
      <button class="zoom-btn" id="zoom-in">+</button>
      <button class="zoom-btn" id="zoom-out">-</button>
    </div>
  </div>

  <div class="hero-text">
    <h1 class="hero-title">Monterey Peninsula Golf</h1>
    <p class="hero-subtitle">12 public courses near Pebble Beach</p>
  </div>

  <nav class="nav-bar">
    <a href="/app.html?region=Monterey" class="nav-btn primary">
      <svg viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="10"></circle>
        <polyline points="12 6 12 12 16 14"></polyline>
      </svg>
      Tee Times
    </a>
    <a href="/courses.html?region=Monterey" class="nav-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 21h18M5 21V7l8-4 8 4v14"></path>
        <path d="M9 21v-6h6v6"></path>
      </svg>
      Courses
    </a>
    <a href="/" class="nav-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
        <circle cx="12" cy="10" r="3"></circle>
      </svg>
      Bay Area
    </a>
    <a href="mailto:hello@bayareagolfnow.com" class="nav-btn">
      <svg viewBox="0 0 24 24">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
        <polyline points="22,6 12,13 2,6"></polyline>
      </svg>
      Contact
    </a>
  </nav>

  <script>
    // Load prices for Monterey courses
    async function loadPrices() {
      try {
        const res = await fetch('/api/tee-times/next-available?region=Monterey');
        const teeTimes = await res.json();

        const coursePrices = {};
        teeTimes.forEach(tt => {
          coursePrices[tt.course_name] = { price: tt.price, time: tt.time };
        });

        document.querySelectorAll('.fairway').forEach(fairway => {
          const courseName = fairway.dataset.course;
          const priceTag = fairway.querySelector('.price-tag');
          if (!priceTag) return;

          const data = coursePrices[courseName];
          if (data && data.price) {
            priceTag.textContent = `$${Math.round(data.price)}`;
            priceTag.classList.remove('loading');
          } else {
            priceTag.textContent = '--';
            priceTag.classList.remove('loading');
          }
        });
      } catch (e) {
        console.error('Error loading prices:', e);
        document.querySelectorAll('.price-tag').forEach(tag => {
          tag.textContent = '--';
          tag.classList.remove('loading');
        });
      }
    }

    document.addEventListener('DOMContentLoaded', loadPrices);

    // Draggable map with zoom
    document.addEventListener('DOMContentLoaded', function() {
      const mapContent = document.querySelector('.map-content');
      const zoomInBtn = document.getElementById('zoom-in');
      const zoomOutBtn = document.getElementById('zoom-out');

      const config = {
        minZoom: 0.6,
        maxZoom: 2.0,
        defaultZoom: 1.0,
        zoomInStep: 0.15,
        zoomOutStep: 0.1,
        dragSpeed: 1.2,
        boundsWest: -20,
        boundsEast: 40,
        boundsNorth: -30,
        boundsSouth: 40
      };

      let isDragging = false;
      let startX, startY;
      let currentX = 0;
      let currentY = 0;
      let currentZoom = config.defaultZoom;

      function getBounds() {
        return {
          minX: config.boundsWest * currentZoom,
          maxX: config.boundsEast * currentZoom,
          minY: config.boundsNorth * currentZoom,
          maxY: config.boundsSouth * currentZoom
        };
      }

      function updatePosition(animate = false) {
        const bounds = getBounds();
        currentX = Math.max(bounds.minX, Math.min(bounds.maxX, currentX));
        currentY = Math.max(bounds.minY, Math.min(bounds.maxY, currentY));

        const baseSize = Math.max(100, 150 * currentZoom);
        const offset = (baseSize - 100) / 2;

        mapContent.style.transition = animate ? 'all 0.2s ease-out' : 'none';
        mapContent.style.width = `${baseSize}%`;
        mapContent.style.height = `${baseSize}%`;
        mapContent.style.left = `calc(-${offset}% + ${currentX}%)`;
        mapContent.style.top = `calc(-${offset}% + ${currentY}%)`;
      }

      function zoomTo(newZoom, animate = true) {
        const oldZoom = currentZoom;
        currentZoom = Math.max(config.minZoom, Math.min(config.maxZoom, newZoom));
        const scale = currentZoom / oldZoom;
        currentX *= scale;
        currentY *= scale;
        updatePosition(animate);
      }

      zoomInBtn.addEventListener('click', () => zoomTo(currentZoom + config.zoomInStep));
      zoomOutBtn.addEventListener('click', () => zoomTo(currentZoom - config.zoomOutStep));

      // Mouse drag
      mapContent.addEventListener('mousedown', (e) => {
        if (e.target.closest('.fairway')) return;
        isDragging = true;
        startX = e.clientX - currentX * 10;
        startY = e.clientY - currentY * 10;
        mapContent.style.cursor = 'grabbing';
      });

      document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        currentX = (e.clientX - startX) / 10 * config.dragSpeed;
        currentY = (e.clientY - startY) / 10 * config.dragSpeed;
        updatePosition();
      });

      document.addEventListener('mouseup', () => {
        isDragging = false;
        mapContent.style.cursor = 'grab';
      });

      // Touch drag
      let touchStartX, touchStartY;
      mapContent.addEventListener('touchstart', (e) => {
        if (e.target.closest('.fairway')) return;
        if (e.touches.length === 1) {
          isDragging = true;
          touchStartX = e.touches[0].clientX - currentX * 10;
          touchStartY = e.touches[0].clientY - currentY * 10;
        }
      }, { passive: true });

      mapContent.addEventListener('touchmove', (e) => {
        if (!isDragging || e.touches.length !== 1) return;
        currentX = (e.touches[0].clientX - touchStartX) / 10;
        currentY = (e.touches[0].clientY - touchStartY) / 10;
        updatePosition();
      }, { passive: true });

      mapContent.addEventListener('touchend', () => {
        isDragging = false;
      });

      // Mouse wheel zoom
      mapContent.addEventListener('wheel', (e) => {
        e.preventDefault();
        const delta = e.deltaY > 0 ? -0.08 : 0.08;
        zoomTo(currentZoom + delta, false);
      }, { passive: false });

      updatePosition();
    });
  </script>
</body>
</html>
